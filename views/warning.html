<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Découvrez Admin Services, un projet d'étudiant géré par la team Corundum">
    <title>Admin Services</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/panel.css">
    <link rel="icon" href="../assets/img/logo.png">
    <style>
        #header {
            background-color: #40798c;
            color: white;
            width: 100%;
            height: 12.5vh;
            display: flex;
            align-items: center;
            justify-content: space-around;
        }

        #header img {
            width: 2.5%;
        }

        #content {
            width: 80%;
            margin: 1vh auto;
            font-size: 1.3rem;
        }

        #buttons {
            background-color: #40798c;
            color: white;
            width: 100%;
            height: 12.5vh;
            display: flex;
            align-items: center;
            justify-content: space-around;
        }

        #buttons ul {
            list-style: none;
        }

        #buttons ul li a {
            color: white;
            text-decoration: none;
        }

        #buttons ul li a:hover {
            color: white;
            text-decoration: underline;
        }
    </style>
</head>
<body>
<div class="container">
    <div id="header">
        <img src="../assets/img/logo.png" alt="Logo Admin Services">
        <h1>Admin Services</h1>
        <h2>Avertissement</h2>
    </div>
    <div id="content">
        <p id="hello"></p>
        <p>Nous sommes désolé de vous déranger, mais il semblerait que vous utilisez encore une <strong>ancienne version</strong> de votre compte.</p>
        <p>Récemment, avec la version <strong>6.0.0</strong> d'<strong>Admin Services</strong>, les comptes <strong>déjà connectés</strong> ainsi que les comptes <strong>développeurs intégrés</strong> n'ont pas les dernières fonctionnalités de compte.</p>
        <p>Cette dernière mise à jour permet, même si vous vous déconnectez, de garder une trace de votre compte, il vous suffit juste de vous reconnecter avec votre mot de passe et votre adresse e-mail. Ou alors de supprimer définitivement votre compte, avec ou sans les préférences pour résoudre des bugs ou pour recommencer à zéro.</p>
        <p>Sachez que nous serions extrêmement ravis que cette mise à jour de compte et d'<strong>Admin Services</strong> vous plaise. C'est pourquoi nous vous proposons une mise à niveau de votre compte. Ne vous inquiétez pas la mise à jour est instantanée et conserve tout vos paramètres de compte et de personnalisation actuels.</p>
        <p>Si vous refusez, vous pourrez mettre à jour de manière instananée votre compte <strong>Admin Services</strong> depuis les préférences de comptes directement dans les paramètres.</p>
        <p>Nous espérons aussi que vous appréciez <strong>Admin Services</strong> ! Nous travaillons extrêmement dur pour apporter des fonctionnalités à ce service original.</p>
        <p>Maintenant, le choix est le votre !</p>
    </div>
    <div id="buttons">
        <h2>Que souhaitez-vous faire ?</h2>
        <ul>
            <li>
                <a href="#" id="accept">Mettre à niveau le compte et bénéficier des dernières fonctionnalités.</a>
            </li>
            <li>
                <a href="#" id="refuse">Ne pas mettre à niveau le compte et ne plus afficher ce message.</a>
            </li>
        </ul>
    </div>
</div>
<script>
    const helloText = document.querySelector("#hello");
    const username = localStorage.getItem("username");

    helloText.textContent = "Bonjour " + username + ".";
</script>
<script>
    const accept = document.querySelector("#accept");
    const refuse = document.querySelector("#refuse");

    function acceptFunction() {
        localStorage.setItem("status", "logged");
        localStorage.setItem("setup", false);
        localStorage.setItem("updated", true);
        localStorage.removeItem("group");
        alert("La mise à niveau du compte est terminée. Vous allez retourner à l'accueil.");
        window.location.href = "./panel.html";
    }

    function refuseFunction() {
        localStorage.setItem("updated", false);
        localStorage.setItem("status", "unknown");
        alert("Vous ne recevrez pas la mise à jour. Si vous vous déconnectez votre compte sera perdu. Si vous recréez un compte, ce dernier sera mis à jour vers la dernière mise à niveau. Vous pouvez également le mettre à jour dans les paramètres. Vous allez retourner à l'accueil.");
        window.location.href = "./panel.html";
    }

    accept.addEventListener("click", acceptFunction);
    refuse.addEventListener("click", refuseFunction);
</script>
</body>
</html>